<div class=dishes><div class=content><div class=header><h1>Wish List</h1><h2>Everything is so delicious? Save it to this list and try some day.</h2></div><div class=controls ng-class="{ 'no-cuisine': incomplete_order || dish, 'showMobile' : expandedSearch }"><form ng-submit=submit() name=search><select name=address class="address address-switcher" ng-class="{ 'disabled': dish || incomplete_order }" ng-model=locationId fancy-default="{{ user.address.name || 'Select location' }}" fancy-select=""><option value="{{ address.id }}" ng-repeat="address in user.addresses" fancy-option="">{{ address.name }}<option value="" ng-click=addNewAddress() fancy-option="">Add New Location...</select><i class="icon-search mobile" ng-click=toggleSearch()></i><div class=foodtype><input name=keyword ng-model=keyword class=foodtype placeholder="Search within Your Wish List" ng-class="{ nonEmpty: search.keyword.$dirty && search.keyword.$viewValue != '' }"><button type=submit ng-class="{ active: search.keyword.$dirty && search.keyword.$viewValue != '' }">Submit</button></div></form></div><div class=results ng-swipe-right=prev() ng-swipe-left=next()><div ng-if=dishes.length><div class=dishesslider><ul class=dishes data-current-index="{{ currentIndex }}" ng-style="{ width: dishes.length * dishWidth, marginLeft: - currentIndex * dishWidth }"><li ng-repeat="(key, dish) in dishes" dish=""><div class=dish-container ng-style="{ width: dishWidth }"><div class=angular-dummy>&nbsp;</div><div ng-if="currentIndex - key <= perPage && currentIndex - key > -2*perPage"><div ng-if=!dish.id class="dish slot" ng-style="{ height: cardBaseHeight + (user.goals.length ? (55 + 26 * user.goals.length) : 0) }"></div><div ng-if=dish.id class="dish flip-container" ng-init="goalsHeight = (dish.scores.length ? (55 + 26 * user.goals.length) : 0)" ng-style="{ height: cardBaseHeight + goalsHeight }" ng-class="{ reverse: dish.reverse, 'is-not-available-now': !dish.schedule.0.is_available_now  }"><div class=flipper><div class=front><div class=top><div class=bookmark-ribbon ng-click=toggleWish(dish) ng-class="{ active: user.wishlist.indexOf(dish.menu_item_id) > -1 }"><span></span></div><section class=restaurant><figure><span ng-style="{ 'background-image': 'url('+ dish.restaurant.image_url +')', opacity: dish.restaurant.image_url ? false : 0.7 }"></span></figure><div class=left title="{{ dish.restaurant.name }}, rating: {{ dish.restaurant.rating }}"><a ng-if=config.devMode ng-href="{{ dish.restaurant.url }}" target=_blank>{{ dish.restaurant.name | truncate:30 }}</a> <span ng-if=!config.devMode>{{ dish.restaurant.name | truncate:30 }}</span><div class=rating ng-if="dish.restaurant.rating !== null" ng-init="rating = dish.restaurant.rating"><span ng-class="{ off: rating < 1 }"></span> <span ng-class="{ off: rating < 2 }"></span> <span ng-class="{ off: rating < 3 }"></span> <span ng-class="{ off: rating < 4 }"></span> <span ng-class="{ off: rating < 5 }"></span></div></div><div class=right>{{ Math.round(dish.distance * 10) / 10 }}mi away <span class=icon-location></span><br>min order ${{ Math.ceil(dish.restaurant.minimum_order) }} <span class=icon-bag></span></div></section><h1>{{ dish.name }}</h1><article title="{{ dish.description }}">{{ dish.description | truncate:(125 - dish.name.length) }}</article><span class=price>{{ dish.price | currency }}</span><div class=ribbon-wrapper-green ng-if="incomplete_order.details.item_ids.indexOf(dish.id) > -1"><div class=ribbon-green>in bag</div></div></div><div class=bottom><div class=scores ng-if=dish.scores.length><div class=hint title="The percentages below represent how well the dish achieves each of your specific health goals based on expert nutritionist data and Bask's proprietary intelligence." tooltip="">How this dish achieves your goal<span ng-if="dish.scores.length > 1">s</span>&nbsp;<span class=icon-help></span></div><div class=score ng-repeat="score in dish.scores"><div class=progressbar title="{{score.goal.name}}: {{ Math.ceil(score.value * 100) }}%"><div class=text><div class="goal-small-icon goal-{{score.goal.id}}"></div><div class=goal>{{score.goal.name}}</div><div class=percent>{{ Math.ceil(score.value * 100) }}%</div></div><div class=progress ng-style="{ width: Math.min(100, Math.ceil(score.value * 100)) + '%' }"></div></div></div></div></div><a ng-click=dish.select() class="button btn-select-this">Select This</a> <a class=rotate ng-click=showCardBack(dish)><u>Don't show this dish again</u></a></div><div class=back><div ng-if=!dish.hideReverse><section class=restaurant><figure><span ng-style="{ 'background-image': 'url('+ dish.restaurant.image_url +')' }"></span></figure></section><form class="contents form-control scrollbox" ng-style="{ height: cardBackBaseHeight + goalsHeight }"><p ng-if=!dish.keywords.length>Please confirm your dislike of this dish.</p><p ng-if=dish.keywords.length>Help us understand your tastes better.</p><p ng-if=dish.keywords.length>What exactly don't you like in <em>{{ dish.name }}</em>?</p><div class=checkboxes><div class="form-group form" data-ng-repeat="keyword in dish.keywords"><label class=radio><input type=checkbox ng-model=keyword.dislike ng-checked=user.isDisliking(keyword.text) fancy-check=""><span ng-class="{ strikeout: keyword.dislike }">{{ keyword.text }}</span></label></div></div></form><a ng-click=dislike(dish) class=button>Confirm Dislike</a> <a class=unrotate ng-click=showCardFront(dish)><u>I've changed my mind</u></a></div></div></div></div></div></div></li></ul></div><div class=prevnext><a href=# class=prev ng-click=prev() ng-class="{ disabled: currentIndex <= 0 }"><span></span> Last {{ perPage > 1 ? perPage +' items' : 'item' }}</a> <a href=# class=next ng-click=next() ng-class="{ disabled: currentIndex + perPage >= dishes.length }"><span></span> Next {{ perPage > 1 ? perPage +' items' : 'item' }}</a></div></div><div ng-if=!dishes.length class=no-results><h2 class=engraved>No wishes</h2><p class=engraved>You have nothing in your wish list now, bookmark any dish in <a href=/dishes>recommendations</a> to be able to always find it here.</p></div></div></div></div>