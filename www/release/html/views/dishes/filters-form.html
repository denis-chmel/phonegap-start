<form ng-submit="data.modal_filters_mode ? applyFilters() : submit()" name=search><div class=switch>Feeling Healthy?<checkbox ng-model=data.filters.healthy ng-class="{active: data.filters.healthy.checked}"></checkbox></div><div class=foodtype><input name=keyword ng-model=data.unapplied_filters.keyword class=foodtype placeholder="Search Dish Name" ng-class="{ nonEmpty: search.keyword.$dirty && search.keyword.$viewValue != '' }"><button type=submit ng-class="{ active: !data.modal_filters_mode && search.keyword.$dirty && search.keyword.$viewValue != '' }">Submit</button></div><div ng-if=!incomplete_order><span class=label>Cuisine</span><select ng-if=!dish class="cuisine cuisine-switcher" ng-model=data.filters.cuisine_id fancy-default="{{ cuisine.name || 'All Cuisines' }}" fancy-select=""><option value="" fancy-option="">All Cuisines<option ng-repeat="(key, cuisine) in data.cuisines" value="{{ cuisine.id }}" fancy-option="">{{ cuisine.name }}</select></div><div><span class=label>Restaurant</span><select name=restaurant class="dish restaurant-switcher" ng-class="{ disabled: incomplete_order }" ng-model=data.filters.restaurant_id fancy-default="{{ restaurant.name || 'All Restaurants' }}" fancy-select=""><option value="" fancy-option="">All Restaurants<option value="{{ restaurant.id }}" ng-repeat="restaurant in data.restaurants" is-option-grayed="{{ restaurant.id && !restaurant.count }}" fancy-option="">{{ restaurant.name }} {{ restaurant.count ? '(' + restaurant.count + ')' : '' }}</select></div><div><span class=label>Menu Section</span><select name=section class="dish section-switcher" ng-class="{ disabled: !data.sections.length || !data.restaurants.length }" ng-model=data.filters.section_id fancy-default="{{ section.name || data.all_sections_label }}" fancy-select=""><option value="" fancy-option="">{{ data.all_sections_label }}<option value="{{ section.id || section.name }}" ng-repeat="section in data.sections" is-option-grayed="{{ restaurant.id && !section.count }}" fancy-option="">{{ section.name }} {{section.count ? '(' + section.count + ')' : '' }}</select></div><div class=price-switcher ng-if=!isFavoritesPage><span class=label>Maximum Dish Price {{ data.unapplied_filters.price_lte >= data.maxMinPrice ? '' : '($' + data.unapplied_filters.price_lte + ')' }}</span><input id=price-switcher-input type=range min=1 max="{{ data.maxMinPrice }}" step=1 ng-model=data.unapplied_filters.price_lte></div><div class=order-switcher ng-if="!incomplete_order && !isFavoritesPage" ng-style="{ opacity: data.filters.restaurant.id ? 0 : 1 }"><span class=label>Maximum Minimum Order {{ data.unapplied_filters.max_min_order >= data.maxMinOrder ? '' : '($' + data.unapplied_filters.max_min_order + ')' }} <span class=icon-help title="Use this filter to see dishes from restaurants with an order minimum that is less than or equal to the amount you select." tooltip=""></span></span><input id=price-switcher-input type=range min=0 max="{{ data.maxMinOrder }}" step=1 ng-model=data.unapplied_filters.max_min_order></div></form>