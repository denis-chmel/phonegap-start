/*! Compiled on: 2014-11-25 */
var fileVersion = 20141125; 
"use strict";define(["modules/app","goalsFactory","usersFactory","checkbox","controllers/accountConfirmationModalCtrl"],function(app){app.controllerManager("accountGoalsCtrl",["$scope","$rootScope","$state","goalsFactory","usersFactory","$currentUser","$modal","$loading","$error",function($scope,$rootScope,$state,goalsFactory,usersFactory,$currentUser,$modal,$loading,$error){goalsFactory.$currentUser||(goalsFactory.$currentUser=$currentUser),goalsFactory.getAll().then(function(goals){$scope.goals=goals}),$scope.submit=function(){$loading.start();for(var goals=[],i=0;i<this.goals.length;i++)this.goals[i].checked&&goals.push(this.goals[i].id);usersFactory.update({goals:goals}).then(function(response){$loading.end(),$error.success("update","Your changes have been saved."),goalsFactory.$currentUser=response})}}])});