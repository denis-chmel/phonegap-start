/*! Compiled on: Thu May 21 2015 08:13:23 */
var fileVersion = "v1.0-4-f842d9e-dirty"; 
"use strict";define(["modules/app","dishesFactory","truncate","mixpanelFactory","iCheck","tooltip","customScroll"],function(app){app.controllerManager("tastesCtrl",["config","$scope","$rootScope","$state","dishesFactory","$loading","mixpanelFactory","$timeout",function(config,$scope,$rootScope,$state,dishesFactory,$loading,mixpanelFactory,$timeout){$loading.start(!0),$scope.samples=[];for(var i=10;i--;)$scope.samples.push({id:null});mixpanelFactory.track("Tastes viewed in signup"),$scope.activeIndex=0,$scope.dislike=function(dish){dishesFactory.dislike(dish),dish.liked=!1,dish.disliked=!0},$scope.like=function(dish){dishesFactory.like(dish),dish.liked=!0,dish.disliked=!1},$scope.showCardBack=function(dish){dish.reverse=!0,dish.showReverse=!0},$scope.showCardFront=function(dish){dish.reverse=!1,$timeout(function(){dish.showReverse=!1},500)},$scope.prev=function(currentDish){currentDish&&$scope.showCardFront(currentDish),$scope.activeIndex--},$scope.next=function(currentDish){currentDish&&$scope.showCardFront(currentDish),$scope.activeIndex+1==$scope.samples.length?$state.transitionTo("primary.dishes"):$scope.activeIndex++},dishesFactory.getSamples().then(function(dishes){$loading.end(),$scope.samples=dishes})}]),app.factoryManager("$slider",[function(){}]),app.directiveManager("slider",[function(){return{restrict:"A",link:function($scope,$element){$scope.margin=0;var setWidth=function(){$scope.panelWidth=465,window.innerWidth<640&&($scope.panelWidth=300);var w=$($element[0]).width()+2*$scope.margin;$scope.initialLeft=(w-$scope.panelWidth)/2,$scope.$$phase||$scope.$apply()};"onorientationchange"in window?window.onorientationchange=setWidth:window.onresize=setWidth,setWidth()}}}])});