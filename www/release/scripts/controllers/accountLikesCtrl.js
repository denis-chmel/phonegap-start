/*! Compiled on: Thu May 21 2015 08:13:23 */
var fileVersion = "v1.0-4-f842d9e-dirty"; 
"use strict";define(["modules/app","dishesFactory","iCheck"],function(app){app.controllerManager("accountLikesCtrl",["$scope","dishesFactory","$loading","usersFactory","$state","$error",function($scope,dishesFactory,$loading,usersFactory,$state,$error){$scope.data={liked:[]};var makeCheckboxReady=function(dishes){var result=[];return angular.forEach(dishes,function(dish){dish.checked=!0,result.push(dish)}),result},success_message="Changes Saved.";$scope.toggleLike=function(dish,silent){dish.loading=!0,dishesFactory.rate(dish,dish.checked?"like":"neutral").then(function(){silent||$error.success(null,success_message,15e3,function(){dish.checked=!dish.checked,$scope.toggleLike(dish,!0)}),dish.loading=!1})},$loading.start(),dishesFactory.getLiked().then(function(dishes){$scope.data.liked=makeCheckboxReady(dishes),$loading.end()})}])});