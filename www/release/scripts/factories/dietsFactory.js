/*! Compiled on: Thu May 21 2015 08:13:23 */
var fileVersion = "v1.0-4-f842d9e-dirty"; 
"use strict";define(["modules/app"],function(app){app.factoryManager("dietsFactory",["config","$q","$cachedResource",function(config,$q,$cachedResource){var self=this;self.getAll=function($currentUser){var deferred=$q.defer(),format=function(diet){if($currentUser)for(var i=0;i<$currentUser.diets.length;i++)$currentUser.diets[i].id==diet.id&&(diet.checked=!0);return diet};return resource.get({},function(response){var results=[];results.push(format({id:0,diet:"No Diet"}));for(var i=0;i<response.data.length;i++)results.push(format(response.data[i]));deferred.resolve(results)}),deferred.promise};var resource=$cachedResource("diets",config.api+"/diets",{},{get:{method:"GET",authentication:!0},update:{method:"PUT",authentication:!0}});return self}])});