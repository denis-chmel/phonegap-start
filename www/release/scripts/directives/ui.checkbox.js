/*! Compiled on: Thu May 21 2015 08:13:23 */
var fileVersion = "v1.0-4-f842d9e-dirty"; 
"use strict";define(["modules/app"],function(app){app.directiveManager("checkbox",["$timeout","$error",function($timeout,$error){return{restrict:"E",templateUrl:"/release/html/directives/checkbox.html",replace:!0,transclude:!0,require:"ngModel",link:function($scope,$element,attr,ctrl){var group=attr.group||attr.ngModel;$scope.$parent=$scope.$parent||{},$scope.$parent.checkboxGroup=$scope.$parent.checkboxGroup||{},$scope.$parent.checkboxGroup[group]=$scope.$parent.checkboxGroup[group]||[],$timeout(function(){var model=ctrl.$modelValue;"undefined"==typeof model&&(model={},model.checked=!1,ctrl.$setViewValue(model)),$scope.$parent.checkboxGroup[group].push(ctrl)}),$element.bind("click",function(){var group=attr.group||attr.ngModel,checkboxes=$scope.$parent.checkboxGroup[group],toBeChecked=!ctrl.$modelValue.checked,exceedsLimit=!1;if("undefined"!=typeof attr.maxNumber){var maxNumber=parseInt(attr.maxNumber),checkedCount=0;for(var i in checkboxes)checkboxes.hasOwnProperty(i)&&(maxNumber>1?checkedCount+=checkboxes[i].$modelValue.checked?1:0:checkboxes[i].$modelValue.checked=!1);toBeChecked&&checkedCount>=maxNumber&&(exceedsLimit=!0)}exceedsLimit?$error.alert("goal","The maximum number of "+attr.ngModel+"s you may choose is "+attr.maxNumber):ctrl.$modelValue.checked=toBeChecked,$scope.$apply()})}}}])});